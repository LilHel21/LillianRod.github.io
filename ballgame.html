<html>

  <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Processing Demo</title>
      <script type="text/javascript" src="js/processing.js"></script>
  </head>
  
  <body>
    <h1>THE LAME GAME</h1>
    <p>Click the ball as many times as possible!!! If you miss you lose a life! Good Luck :)</p>
    
    <script type="text/processing">
   
   //DECLARE VARIABLES
int gameState;
float x=150;
float y=300;
float speed=5;
float rand=random(0,600);
int score = 0;
int lives;
boolean liveCheck;
int highscore;

//SETUP  
void setup(){
 size(600,600);
 gameState=0;
 lives = 6;
 liveCheck = true;
}

//MAIN
void draw(){
 background(0,0,0); //black background
 if(gameState==0){
   startScreen();
   }
   else if (gameState == 1){
    gameScreen();
   }
   

   
 
}
void startScreen(){
 textSize(42);
 fill(0, 44, 219); //blue title
 text("Welcome to the Lame Game!! ",7,200);
 if(mouseX > 150 && mouseX < 445 && mouseY > 260 && mouseY < 305){
   fill(2, 217, 9); //Green
   if(mousePressed)
   {
    gameState = 1; 
   }
 }
 else{
   fill(219, 2, 6); //red
 }
 rect(150,305,295,-45,15);//button
 fill(0,0,0); //black button letters
 text("Click to start!",150,300);
}

void gameScreen(){
 background(0,0,0); //black background
 
  clickBall();
  fill(0, 44, 219);
  ellipse(x, y, 50, 50);
  x=x+speed;
  y=y+speed;
  textSize(26);
  text("Score: " + score, 20, 40);
  text("Lives: " + lives, 20, 80);
  text("Highscore:" + highscore,20,120);
  bounce();
}

void restart()
{
 fill(219, 2, 6); //red 
 rect(150,305,295,-45,15);//button
 fill(255,0,0); //black button letters
 text("Click to restart!",150,300);
}


void bounce(){
  
  if (y > 575){
    speed=speed - 1;
  }

  if (x > 500){
    speed=speed - 1;
  }
 if (y < 55){
   speed=speed + 1;
 }
 
 if (x < 45){
   speed=speed + 1;
 }
}

void clickBall()
{
  if(mousePressed == true && gameState == 1){
   if(mouseX > x-25 && mouseX < x+25 && mouseY > y-25 && mouseY < y+25 && gameState == 1){
     y=speed+0.65;
     score=score + 1;
     rand=random(0,500);
     x=rand;
     liveCheck=false;
     if(score > highscore){
      highscore = highscore +1; 
     }
     
   }
   
   else if (liveCheck)
   {
     lives--;
     liveCheck=false;
   }
   
 } 
 else {
   liveCheck = true;
 }
 
 if(lives==0){
   gameState=0; 
   lives=5;
   score=0;
   speed=5;
 }
 
}


//peepeepoopoo
   
    </script>
    <canvas id="sketch" style="border: 1px solid black;"></canvas>
    
  </body>
  
</html>